webpackJsonp([21],{IDmQ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("mvHQ"),a=s.n(n),o=s("ZyLO"),r={name:"",data:function(){return{query_obj:{page:1,per_page:10,student_class:"",student_name:""},Status:"",user:{},Prompt:"",page:1,student_obj:{DataList:[],MaxCount:1,MaxPage:1},pagind:{shang:"",list:[],xia:""},currentPage4:4,type:["管理员","企业","机构"]}},methods:{rout:function(){window.history.back()},See:function(t){console.log("查看学生"),console.log(this.Status),this.$router.push("/studentDetails?id="+t.Id+"&Status="+this.Status)},get_student:function(){Object(o.b)("get","/student",this.query_obj,this.student_return)},student_return:function(t){t=JSON.parse(t);console.log(t),this.student_obj=t.Memory},search:function(){console.log(this.query_obj),this.query_obj.page=1,this.get_student()},handleCurrentChange:function(t){this.query_obj.page=t,this.get_student()},user_return:function(t){console.log("获取用户",t),this.user_obj=t.Memory},delete_1:function(t){var e=this;console.log(t),this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.b)("delete","/student",a()({Id:t.Id}),e.delete_retun)}).catch(function(){})},delete_retun:function(t){console.log(t),(t=JSON.parse(t)).Result?(this.get_student(),this.$message({showClose:!0,message:"删除成功",type:"success"})):this.$message({showClose:!0,message:"系统错误，请联系管理员",type:"error"})}},created:function(){},mounted:function(){this.user=JSON.parse(localStorage.user0609);var t=this.$route.query;this.query_obj.student_class=t.id,this.Status=t.Status,this.get_student()}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Student"}},[n("section",{staticClass:"application container"},[n("div",{staticClass:"d-flex align-items-center bread border-bottom"},[t._v("\n            \t您的位置： 学生列表\n            ")]),t._v(" "),n("div",{staticClass:"input_box"},[2==t.Status&&"SYSTEM"!=t.user.Type&&0!=t.user.Type?n("router-link",{attrs:{to:"addstudent?class="+t.query_obj.student_class}},[n("button",{staticClass:"btn btn-info float-right"},[t._v("添加学生")])]):t._e(),t._v(" "),n("div",{staticClass:"col-3 search border rounded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query_obj.student_name,expression:"query_obj.student_name"}],staticClass:"w-85 search-input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.query_obj.student_name},on:{input:function(e){e.target.composing||t.$set(t.query_obj,"student_name",e.target.value)}}}),t._v(" "),n("img",{staticClass:"search-btn",attrs:{src:s("p1AH")},on:{click:function(e){t.search()}}})])],1),t._v(" "),n("table",{staticClass:"table",staticStyle:{"min-height":"335px"}},[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",t._l(t.student_obj.DataList,function(e){return n("tr",[n("td",[t._v(t._s(e.Sort))]),t._v(" "),n("td",[t._v(t._s(e.Name))]),t._v(" "),n("td",[t._v(t._s(e.Sex))]),t._v(" "),n("td",[t._v(t._s(e.Nation))]),t._v(" "),n("td",[t._v(t._s(e.IdCardNo))]),t._v(" "),n("td",[t._v(t._s(e.TrainingType))]),t._v(" "),n("td",[t._v(t._s(e.ContactNumber))]),t._v(" "),n("td",[t._v(t._s(e.OriginalTechnologyLevel))]),t._v(" "),n("td",{staticClass:"text-right"},[2==t.Status&&"SYSTEM"!=t.user.Type&&0!=t.user.Type?n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(s){t.See(e)}}}):t._e(),t._v(" "),2==t.Status&&"SYSTEM"!=t.user.Type&&0!=t.user.Type?n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(s){t.delete_1(e)}}}):t._e(),t._v(" "),2!=t.Status||"SYSTEM"==t.user.Type||0==t.user.Type?n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini",circle:""},on:{click:function(s){t.See(e)}}}):t._e()],1)])}))])]),t._v(" "),n("div",{staticClass:"block text-right"},[n("el-pagination",{attrs:{"current-page":t.query_obj.page,"page-size":t.query_obj.per_page,layout:"prev, pager, next, jumper",total:t.student_obj.MaxCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.query_obj,"page",e)}}})],1),t._v(" "),n("div",{staticClass:"box-footer",staticStyle:{margin:"10px 0px"}},[n("button",{staticClass:"btn btn-block",on:{click:function(e){t.rout()}}},[t._v("返回上一页")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"table-primary"},[s("tr",[s("th",[t._v("排序")]),t._v(" "),s("th",[t._v("姓名")]),t._v(" "),s("th",[t._v("性别")]),t._v(" "),s("th",[t._v("民族")]),t._v(" "),s("th",[t._v("身份证号码")]),t._v(" "),s("th",[t._v("工种")]),t._v(" "),s("th",[t._v("联系电话")]),t._v(" "),s("th",[t._v("原技术等级")]),t._v(" "),s("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("操作")])])])}]};var u=s("VU/8")(r,i,!1,function(t){s("INuI")},null,null);e.default=u.exports},INuI:function(t,e){}});
//# sourceMappingURL=21.67f869f2df42b49c27ad.js.map