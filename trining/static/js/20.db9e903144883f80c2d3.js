webpackJsonp([20],{Ryys:function(s,t){},yDNM:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("mvHQ"),i=e.n(a),o=e("ZyLO"),l={name:"",data:function(){return{user:{},subsidy:{Class:"",ClassName:"",Profession:"",CertificateType:"",Level:"",TrainingPersonCount:"",TrainingStartDate:"",TrainingEndDate:"",Contacts:"",Address:"",ContactNumber:"",Bank:"",AccountName:"",AccountNo:"",SubsidyPrice:"",SubsidyPriceUpper:"",ApplicationManager:"",ManagerContactNumber:"",CreateUser:"",CreateUserName:"",CreateUserPhone:"",User:""},classid:"",student_list:[],classobj:{},status:"",examine:!1,examine_type:"",type_name:["","待审核","驳回","已通过","补贴","结业"]}},methods:{form_1:function(){console.log(this.subsidy),""==this.status?(this.subsidy.Status=3,this.subsidy.Profession=this.subsidy.Profession?this.subsidy.Profession:"",this.subsidy.Level=this.subsidy.Level?this.subsidy.Level:"",console.log("添加"),Object(o.b)("post","/classsubsidy/q",i()(this.subsidy),this.classsubsidy_return)):(console.log("修改"),this.subsidy.Status=3,Object(o.b)("patch","/classsubsidy",i()(this.subsidy),this.classsubsidy_return))},classsubsidy_return:function(s){s=JSON.parse(s);console.log(s),s.Result?this.$alert(""==this.Status?"添加成功！":"修改成功","标题名称",{confirmButtonText:"确定",callback:function(s){window.history.back()}}):this.$message({showClose:!0,message:"系统错误，请联系管理员！",type:"error"})},student_finish:function(){Object(o.b)("get","/student/finish",{class_id:this.classid},this.student_finish_return)},student_finish_return:function(s){s=JSON.parse(s);console.log(s),this.student_list=s.Memory,this.subsidy.StudentList=s.Memory,this.subsidy.TrainingPersonCount=s.Memory.length;for(var t=0,e=0;e<s.Memory.length;e++)t+=s.Memory[e].TrainingPrice;this.subsidy.SubsidyPriceUpper=Object(o.a)(t),this.subsidy.SubsidyPrice=t},get_class:function(){Object(o.b)("get","/class/id",{id:this.classid},this.class_return)},class_return:function(s){s=JSON.parse(s);console.log("班级基本信息",s),this.subsidy=s.Memory,this.subsidy.Class=this.classid,this.subsidy.ClassName=s.Memory.Name,this.subsidy.Level=s.Memory.TrainingLevel,this.subsidy.Address=s.Memory.TrainingAddress,this.subsidy.User=this.user.Id,this.subsidy.CreateUser=this.user.Id,this.subsidy.CreateUserName=this.user.Name,this.subsidy.CreateUserPhone=this.user.ContactNumber,this.subsidy.Bank=this.user.Bank,this.subsidy.AccountName=this.user.AccountName,this.subsidy.AccountNo=this.user.AccountNo,this.student_finish()},retu:function(){window.history.back()},classsubsidy_id:function(){Object(o.b)("get","/classsubsidy/id",{id:this.classid},this.get_classsubsidy_id)},get_classsubsidy_id:function(s){s=JSON.parse(s);console.log("根据Id查询",s),this.subsidy=s.Memory,this.status=s.Memory.Status,this.student_list=s.Memory.StudentList}},created:function(){},mounted:function(){var s=this.$route.query;this.classid=s.id,this.subsidy.Class=s.id,console.log(s),s.status?(this.status=s.status,this.classsubsidy_id()):(this.status="",this.get_class()),console.log(this.status),s.examine&&(this.examine=!0);var t=JSON.parse(localStorage.user0609);this.user=t}},r={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"addsubsidy"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex align-items-center bread border-bottom"},[s._v("\n                您的位置： 申请补贴\n            ")]),s._v(" "),e("form",{on:{submit:function(t){t.preventDefault(),s.form_1()}}},[e("h5",{staticClass:"title"},[s._v("基本信息填写")]),s._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("专业：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.Profession,expression:"subsidy.Profession"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.Profession},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"Profession",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("证书类型：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.CertificateType,expression:"subsidy.CertificateType"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text",required:""},domProps:{value:s.subsidy.CertificateType},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"CertificateType",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("等级：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.Level,expression:"subsidy.Level"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.Level},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"Level",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("培训地址：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.Address,expression:"subsidy.Address"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.Address},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"Address",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("培训人数：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.TrainingPersonCount,expression:"subsidy.TrainingPersonCount"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.TrainingPersonCount},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"TrainingPersonCount",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("联系人：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.Contacts,expression:"subsidy.Contacts"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.Contacts},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"Contacts",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("联系电话：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.ContactNumber,expression:"subsidy.ContactNumber"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.ContactNumber},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"ContactNumber",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("开户行：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.Bank,expression:"subsidy.Bank"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.Bank},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"Bank",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("开户名：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.AccountName,expression:"subsidy.AccountName"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.AccountName},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"AccountName",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("补贴金额大写：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{staticClass:"form-control",class:{no_border:5==s.status},attrs:{type:"text",readonly:""},domProps:{value:s.subsidy.SubsidyPriceUpper}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("银行账号：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.AccountNo,expression:"subsidy.AccountNo"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text"},domProps:{value:s.subsidy.AccountNo},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"AccountNo",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("补贴金额小写：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{staticClass:"form-control",class:{no_border:5==s.status},attrs:{type:"text",readonly:""},domProps:{value:s.subsidy.SubsidyPrice}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("申请经办人：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.ApplicationManager,expression:"subsidy.ApplicationManager"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text",required:""},domProps:{value:s.subsidy.ApplicationManager},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"ApplicationManager",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-6 row mt-3"},[e("label",{staticClass:"col-4 control-label text-right"},[s._v("经办人电话：")]),s._v(" "),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.subsidy.ManagerContactNumber,expression:"subsidy.ManagerContactNumber"}],staticClass:"form-control",class:{no_border:5==s.status},attrs:{readonly:5==s.status,type:"text",required:""},domProps:{value:s.subsidy.ManagerContactNumber},on:{input:function(t){t.target.composing||s.$set(s.subsidy,"ManagerContactNumber",t.target.value)}}})])])]),s._v(" "),e("h5",{staticClass:"title"},[s._v("学生信息")]),s._v(" "),e("table",{staticClass:"table table-bordered table-sm"},[s._m(0),s._v(" "),e("tbody",s._l(s.student_list,function(t,a){return e("tr",{staticClass:"text-center"},[e("td",[s._v(s._s(t.Sort))]),s._v(" "),e("td",[s._v(s._s(t.Name))]),s._v(" "),e("td",[s._v(s._s(t.Sex))]),s._v(" "),e("td",[s._v(s._s(t.IdCardNo))]),s._v(" "),e("td",[s._v(s._s(t.ContactNumber))]),s._v(" "),e("td",[s._v(s._s(t.TrainingLevel))]),s._v(" "),e("td",[s._v("\n                                        "+s._s(t.CertificateNumber)+"\n                                    ")]),s._v(" "),e("td",[s._v("\n                                        "+s._s(t.CertificateType)+"\n                                    ")])])}))]),s._v(" "),e("div",{staticClass:"mt-4 text-center mb-5"},[e("button",{staticClass:"app-btn",attrs:{type:"button"},on:{click:function(t){s.retu()}}},[s._v("返回上一页")]),s._v(" "),5!=s.status?e("button",{staticClass:"app-btn",attrs:{type:"submit"}},[s._v("提交")]):s._e()])]),s._v(" "),e("div",{staticClass:"modal_1 modal fade bs-example-modal-sm",attrs:{id:"To_examine_box",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[s._v("请输入"+s._s(2==s.examine_type?"驳回":"通过")+"理由")]),s._v(" "),s._m(1)]),s._v(" "),s._m(2),s._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[s._v("取消")]),s._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){s.Determine()}}},[s._v("确定")])])])])])])])},staticRenderFns:[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("thead",[e("tr",[e("th",[s._v("序号")]),s._v(" "),e("th",[s._v("姓名")]),s._v(" "),e("th",[s._v("性别")]),s._v(" "),e("th",[s._v("身份证号码")]),s._v(" "),e("th",[s._v("联系电话")]),s._v(" "),e("th",[s._v("培训等级")]),s._v(" "),e("th",[s._v("证书类型")]),s._v(" "),e("th",[s._v("证书编号")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"modal-body "},[t("div",{staticClass:"form-control To_examine_box",staticStyle:{height:"auto","min-height":"200px"},attrs:{contenteditable:"true"}})])}]};var n=e("VU/8")(l,r,!1,function(s){e("Ryys")},null,null);t.default=n.exports}});
//# sourceMappingURL=20.db9e903144883f80c2d3.js.map